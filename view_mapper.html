<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>View Mapper: Scaffolding for your models and plugins - Pat Shaughnessy</title><meta name="description" content=""><meta name="author" content=""><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/assets/css/normalize.css"><link rel="stylesheet" href="/assets/css/skeleton.css"><link rel="alternate" type="application/atom+xml" title="Pat Shaughnessy - Feed" href="http://feeds2.feedburner.com/patshaughnessy"><link rel="icon" type="image/png" href="images/favicon.png"></head><body><div id="banner"><a href="/"><span id="title">Pat Shaughnessy</span><span id="tagline"> blogger, rubyist, aspiring author</span></a></div><div style="margin-top: 35px"><div class="ten columns"><div class="container"><div class="row"><article class="post"><header><h1>View Mapper: Scaffolding for your models and plugins</h1><div class="metadata">October 1st 2009&nbsp;&mdash;&nbsp;<a href="#disqus_thread" data-disqus-identifier="https://patshaughnessy.net/view_mapper">&nbsp; Comments and &nbsp; Reactions</a></div></header><section class="content"><p>View Mapper will generate scaffolding illustrating how to write view code using a specified plugin or feature with your existing models. It can also generate new models.</p>
<p>A couple simple examples:</p>
<pre>script/generate view_for office --view auto_complete:address</pre>
<p>&hellip; will generate Rails scaffolding code that displays a form for an existing &ldquo;office&rdquo; model, with auto complete on the &ldquo;address&rdquo; field.</p>
<pre>script/generate scaffold_for_view office address:string code:string
                                  --view auto_complete:address</pre>
<p>&hellip; will generate the same form, but also create the &ldquo;office&rdquo; model class file, a migration file containing the &ldquo;address&rdquo; and &ldquo;code&rdquo; columns, and other standard scaffolding files as well.</p>
<p>The idea behind View Mapper is that it&rsquo;s easy to write simple, concise model classes representing your domain objects using ActiveRecord, but very hard to implement the corresponding views using a combination of HTML, Javascript Rails helper functions, routes, controllers, etc. If you&rsquo;re not very familiar with a certain plugin you want to use in your app, View Mapper can help you get started in the right direction by generating a working example with scaffolding code.</p>
<p>If you&rsquo;re developing a Rails plugin or gem it&rsquo;s easy to write your own View Mapper module for your plugin&rsquo;s users to call with View Mapper.</p>
<p/>
<p/>
<p><b>Code:</b>&nbsp;&nbsp;&nbsp;<a href="http://github.com/patshaughnessy/view_mapper">http://github.com/patshaughnessy/view_mapper</a></p>
<p/>
<p/>
<p><b>Install:</b></p>
<pre>sudo gem install view_mapper</pre>
<p/>
<p/>
<p><b>Usage:</b></p>
<p>Two generators are provided, called view_for and scaffold_for_view:</p>
<p/>
<pre>script/generate view_for model [ --view view_name:param ]</pre>
    <p>This will generate the specified view code for an existing model. The view_for generator will look for your model, inspect all of its columns and then generate standard Rails scaffolding containing a form field for each existing column.</p>
    <p>If you also specify a view, then a custom view will be created using the specified Rails feature or plugin, using the specified parameter.</p>
<p/>
<pre>script/generate scaffold_for_view model attributes [ --view view_name:param ]</pre>
    <p>If you don&rsquo;t specify a view, then this command is identical to the standard Rails scaffold generator.</p>
    <p>If you do specify a view, then the entire working set of a model, views and controller will be generated to implement the specified Rails feature or plugin, using the specified parameter.</p>
<p/>
<p/>
<p><b>Views:</b></p>
<p>Right now, I&rsquo;ve implemented eight views:
<ul>
  <li><a href="https://patshaughnessy.net/2009/10/1/auto_complete-scaffolding">auto_complete</a>: Uses the standard Rails auto_complete plugin to implement type ahead behavior for the specified field.</li>
  <li><a href="https://patshaughnessy.net/2009/10/16/paperclip-scaffolding">paperclip</a>: Uses the Paperclip plugin to upload and download file attachments.</li>
  <li><a href="https://patshaughnessy.net/2009/11/9/scaffolding-for-complex-forms-using-nested-attributes">has_many</a>: Displays a complex form to edit two or more associated models.</li>  <li><a href="https://patshaughnessy.net/2009/11/25/scaffolding-for-auto-complete-on-a-complex-nested-form">has_many_auto_complete</a>: This is the same as has_many but also uses the auto_complete plugin to implement type ahead behavior for each text field. This view requires you to install <a href="https://patshaughnessy.net/repeated_auto_complete">my fork of the Rails auto_complete plugin</a>.</li>
  <li><a href="https://patshaughnessy.net/2010/1/25/creating-associations-to-existing-data-part-1-belongs_to-scaffolding">belongs_to</a>: Generates scaffolding that allows you to select an existing, associated model.</li>
  <li><a href="https://patshaughnessy.net/2010/2/13/creating-associations-to-existing-data-part-2-belongs_to-with-auto_complete">belongs_to_auto_complete</a>: Generates scaffolding that allows you to select an existing, associated model using auto_complete.</li>
  <li><a href="https://patshaughnessy.net/2010/4/4/creating-associations-to-existing-data-part-3-has_many-through-scaffolding">has_many_existing</a>: Generates scaffolding for a complex form to edit two models that have a has_many, :through association with a third model. Use this if you have a many-many relationship with existing data.</li>  
  <li>(Default) If no view is specified, then standard Rails scaffold code will be generated.</li>
</ul>
<p>I&rsquo;ll be implementing more views in the coming weeks and months. There is also an API for implementing your own View Mapper module, for example to generate code illustrating how to use a plugin or gem you are working on. In the future I&rsquo;ll document this as well.</p>
</section><section class="comments"><div id="disqus_thread"><script type="text/javascript">var disqus_identifier = 'https://patshaughnessy.net/view_mapper'; var disqus_shortname = 'patshaughnessy'; var disqus_title = 'View Mapper: Scaffolding for your models and plugins';</script></div><script type="text/javascript" src="https://disqus.com/forums/patshaughnessy/embed.js"></script><noscript><a href="https://patshaughnessy.disqus.com/?url=ref">View the discussion thread.</a></noscript></section></article></div></div></div><div class="two columns"><div id="sidebar"><img src="/assets/images/pat.jpg"></img><div class="header">Subscribe</div><div class="links"><ul><li><a id="feed" href="http://feeds.feedburner.com/patshaughnessy"><img src="/assets/images/feed-icon16x16B.png"></img></a><a href="http://twitter.com/pat_shaughnessy"><img width="20" height="20" src="/assets/images/twitter.svg"></img></a></li></ul></div><div class="header">Buy My Book</div><div class="links"><ul><li><a href="/ruby-under-a-microscope"><img src="/assets/images/book-cover.png"></img></a></li><li id="eBook"><a href="/ruby-under-a-microscope">Ruby Under a Microscope</a></li></ul></div><div class="header">More on View Mapper</div><div class="links"><ul><li><a href="/2010/4/4/creating-associations-to-existing-data-part-3-has_many-through-scaffolding">Creating associations to existing data part 3: has_many :through scaffolding</a></li><li><a href="/2010/2/13/creating-associations-to-existing-data-part-2-belongs_to-with-auto_complete">Creating associations to existing data part 2: belongs_to with auto_complete</a></li><li><a href="/2010/1/25/creating-associations-to-existing-data-part-1-belongs_to-scaffolding">Creating associations to existing data part 1: belongs_to scaffolding</a></li><li><a href="/2009/11/25/scaffolding-for-auto-complete-on-a-complex-nested-form">Scaffolding for auto complete on a complex, nested form</a></li></ul></div><div class="header">Popular</div><div class="links"><ul><li><a href="/2016/11/26/learning-to-read-x86-assembly-language">Learning to Read x86 Assembly Language</a></li><li><a href="/2012/1/4/never-create-ruby-strings-longer-than-23-characters">Never create Ruby strings longer than 23 characters</a></li><li><a href="/2012/3/23/why-you-should-be-excited-about-garbage-collection-in-ruby-2-0">Why You Should Be Excited About Garbage Collection in Ruby 2.0</a></li><li><a href="/2013/4/3/ruby-2-0-works-hard-so-you-can-be-lazy">Ruby 2.0 Works Hard So You Can Be Lazy</a></li></ul></div><div class="header"><a href="/">More...</a></div></div></div><script type="text/javascript">(function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());</script></div><div id="footer" class="ten columns"><p>Content and UI design &copy; 2008-2025 Pat Shaughnessy</p></div></body></html>